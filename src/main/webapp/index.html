<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Banking System - Modern Dashboard</title>
    <!-- Chart.js for beautiful charts -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <!-- Backup Chart.js from different CDN -->
    <script>
        window.Chart || document.write('<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/4.4.0/chart.min.js"><\/script>');
    </script>
    <!-- Font Awesome for icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Inter', sans-serif;
            background: linear-gradient(135deg, #1e293b 0%, #334155 50%, #475569 100%);
            min-height: 100vh;
            overflow-x: hidden;
        }
        
        .dashboard-container {
            max-width: 1600px;
            margin: 0 auto;
            padding: 25px;
        }
        
        .dashboard-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin-bottom: 30px;
        }
        
        .dashboard-row {
            display: grid;
            grid-template-columns: 1fr;
            gap: 25px;
            margin-bottom: 30px;
        }
        
        .dashboard-col {
            display: grid;
            grid-template-columns: 1fr;
            gap: 25px;
        }
        
        .dashboard-col-2 {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 25px;
        }
        
        .dashboard-col-3 {
            display: grid;
            grid-template-columns: 1fr 1fr 1fr;
            gap: 25px;
        }
        
        .dashboard-col-4 {
            display: grid;
            grid-template-columns: 1fr 1fr 1fr 1fr;
            gap: 25px;
        }
        
        /* Modern Header */
        .modern-header {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(25px);
            border: 1px solid rgba(255, 255, 255, 0.15);
            border-radius: 25px;
            padding: 35px;
            margin-bottom: 35px;
            text-align: center;
            color: white;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.15);
        }
        
        .modern-header h1 {
            font-size: 3.5rem;
            font-weight: 800;
            margin-bottom: 15px;
            background: linear-gradient(45deg, #60a5fa, #a78bfa, #f472b6);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .modern-header p {
            font-size: 1.3rem;
            font-weight: 300;
            opacity: 0.9;
        }
        
        /* Stats Dashboard */
        .stats-dashboard {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 25px;
            margin-bottom: 30px;
        }
        
        .stat-card {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 25px;
            padding: 35px;
            text-align: center;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.12);
            border: 1px solid rgba(255, 255, 255, 0.4);
            transition: all 0.4s ease;
            position: relative;
            overflow: hidden;
        }
        
        .stat-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 5px;
            background: linear-gradient(45deg, #60a5fa, #a78bfa, #f472b6);
            border-radius: 25px 25px 0 0;
        }
        
        .stat-card:hover {
            transform: translateY(-12px);
            box-shadow: 0 30px 60px rgba(0, 0, 0, 0.18);
        }
        
        .stat-icon {
            font-size: 3.5rem;
            background: linear-gradient(45deg, #60a5fa, #a78bfa, #f472b6);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 20px;
        }
        
        .stat-number {
            font-size: 3.5rem;
            font-weight: 800;
            color: #1e293b;
            margin-bottom: 12px;
            line-height: 1;
        }
        
        .stat-label {
            font-size: 1.1rem;
            color: #718096;
            font-weight: 500;
        }
        
        /* Customer Grid */
        .customer-section {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 25px;
            padding: 35px;
            margin-bottom: 35px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.12);
        }
        
        .section-title {
            font-size: 2rem;
            font-weight: 700;
            color: #2d3748;
            margin-bottom: 25px;
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .customers-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }
        
        .customer-card {
            background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%);
            border-radius: 20px;
            padding: 30px;
            border: 1px solid rgba(226, 232, 240, 0.8);
            transition: all 0.4s ease;
            position: relative;
            overflow: hidden;
        }
        
        .customer-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(45deg, #10b981, #059669);
        }
        
        .customer-card:hover {
            transform: translateY(-8px);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.15);
            background: linear-gradient(135deg, #fff 0%, #f7fafc 100%);
        }
        
        .customer-header {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 15px;
        }
        
        .customer-avatar {
            width: 65px;
            height: 65px;
            border-radius: 50%;
            background: linear-gradient(45deg, #60a5fa, #a78bfa, #f472b6);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 1.6rem;
            font-weight: 700;
        }
        
        .customer-info h3 {
            font-size: 1.3rem;
            font-weight: 600;
            color: #2d3748;
            margin-bottom: 5px;
        }
        
        .customer-id {
            font-size: 0.9rem;
            color: #718096;
            font-weight: 500;
        }
        
        .customer-details {
            margin-top: 15px;
        }
        
        .detail-row {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 8px;
            font-size: 0.95rem;
            color: #4a5568;
        }
        
        .detail-icon {
            font-size: 1.1rem;
            color: #60a5fa;
            width: 18px;
        }
        
        .customer-status {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 0.85rem;
            font-weight: 600;
            margin-top: 15px;
        }
        
        .status-active {
            background: rgba(16, 185, 129, 0.15);
            color: #047857;
            border: 1px solid rgba(16, 185, 129, 0.4);
        }
        
        .status-inactive {
            background: rgba(239, 68, 68, 0.15);
            color: #dc2626;
            border: 1px solid rgba(239, 68, 68, 0.4);
        }
        
        /* Charts Section */
        .charts-section {
            display: grid;
            grid-template-columns: 1fr;
            gap: 30px;
            margin-bottom: 30px;
        }
        
        .chart-container {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 25px;
            padding: 35px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.12);
        }
        
        .chart-title {
            font-size: 1.3rem;
            font-weight: 600;
            color: #2d3748;
            margin-bottom: 20px;
            text-align: center;
        }
        
        .chart-wrapper {
            position: relative;
            height: 300px;
            width: 100%;
        }
        
        .chart-wrapper canvas {
            max-width: 100%;
            height: auto !important;
        }
        
        .chart-fallback {
            display: none;
            height: 300px;
            background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%);
            border-radius: 10px;
            border: 2px dashed #cbd5e0;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            color: #718096;
            font-size: 1rem;
            text-align: center;
        }
        
        .chart-fallback i {
            font-size: 3rem;
            margin-bottom: 15px;
            opacity: 0.5;
        }
        
        .chart-fallback.active {
            display: flex;
        }
        
        /* Controls Section */
        .controls-section {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 25px;
            padding: 35px;
            margin-bottom: 35px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.12);
        }
        
        .button-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 15px;
            margin-bottom: 20px;
        }
        
        .modern-btn {
            background: linear-gradient(135deg, #60a5fa 0%, #a78bfa 50%, #f472b6 100%);
            color: white;
            border: none;
            padding: 18px 28px;
            border-radius: 15px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.4s ease;
            display: flex;
            align-items: center;
            gap: 12px;
            justify-content: center;
            position: relative;
            overflow: hidden;
        }
        
        .modern-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            transition: left 0.5s;
        }
        
        .modern-btn:hover::before {
            left: 100%;
        }
        
        .modern-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 15px 35px rgba(96, 165, 250, 0.4);
        }
        
        .modern-btn.success {
            background: linear-gradient(135deg, #10b981 0%, #059669 100%);
        }
        
        .modern-btn.success:hover {
            box-shadow: 0 15px 35px rgba(16, 185, 129, 0.4);
        }
        
        .modern-btn.danger {
            background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%);
        }
        
        .modern-btn.danger:hover {
            box-shadow: 0 15px 35px rgba(239, 68, 68, 0.4);
        }
        
        .modern-btn.info {
            background: linear-gradient(135deg, #06b6d4 0%, #0891b2 100%);
        }
        
        .modern-btn.info:hover {
            box-shadow: 0 15px 35px rgba(6, 182, 212, 0.4);
        }
        
        .modern-btn.warning {
            background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%);
        }
        
        .modern-btn.warning:hover {
            box-shadow: 0 15px 35px rgba(245, 158, 11, 0.4);
        }
        
        /* Result Area */
        .result-container {
            background: rgba(30, 41, 59, 0.95);
            border-radius: 20px;
            padding: 30px;
            font-family: 'Fira Code', monospace;
            color: #e2e8f0;
            max-height: 400px;
            overflow-y: auto;
            line-height: 1.6;
            box-shadow: inset 0 8px 20px rgba(0, 0, 0, 0.25);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .loading-spinner {
            display: none;
            text-align: center;
            margin: 20px 0;
        }
        
        .spinner {
            width: 50px;
            height: 50px;
            border: 4px solid #e2e8f0;
            border-top: 4px solid #667eea;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin: 0 auto;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        /* Banking Sections */
        .banking-section {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            padding: 30px;
            margin-bottom: 30px;
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.1);
            border-left: 5px solid #667eea;
        }
        
        /* Customer Form */
        .customer-form {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 25px;
            padding: 35px;
            margin-bottom: 35px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.12);
            display: none;
        }
        
        .form-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 20px;
        }
        
        .form-group {
            margin-bottom: 20px;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #2d3748;
            font-size: 0.95rem;
        }
        
        .form-input {
            width: 100%;
            padding: 15px 18px;
            border: 2px solid #e2e8f0;
            border-radius: 12px;
            font-size: 1rem;
            transition: all 0.4s ease;
            background: white;
        }
        
        .form-input:focus {
            outline: none;
            border-color: #60a5fa;
            box-shadow: 0 0 0 4px rgba(96, 165, 250, 0.15);
            transform: translateY(-1px);
        }
        
        /* Responsive Design */
        @media (max-width: 1200px) {
            .dashboard-grid {
                grid-template-columns: 1fr;
            }
            
            .dashboard-col-2 {
                grid-template-columns: 1fr;
            }
            
            .dashboard-col-3 {
                grid-template-columns: 1fr 1fr;
            }
            
            .dashboard-col-4 {
                grid-template-columns: 1fr 1fr;
            }
            
            .stats-dashboard {
                grid-template-columns: repeat(2, 1fr);
            }
        }
        
        @media (max-width: 768px) {
            .dashboard-grid {
                grid-template-columns: 1fr;
            }
            
            .dashboard-col-2,
            .dashboard-col-3,
            .dashboard-col-4 {
                grid-template-columns: 1fr;
            }
            
            .stats-dashboard {
                grid-template-columns: 1fr;
            }
            
            .charts-section {
                grid-template-columns: 1fr;
            }
            
            .form-grid {
                grid-template-columns: 1fr;
            }
            
            .customers-grid {
                grid-template-columns: 1fr;
            }
            
            .modern-header h1 {
                font-size: 2rem;
            }
        }
        
        /* Animation Classes */
        .fade-in {
            animation: fadeIn 0.5s ease-in;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .pulse {
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0% { box-shadow: 0 0 0 0 rgba(96, 165, 250, 0.7); }
            70% { box-shadow: 0 0 0 10px rgba(96, 165, 250, 0); }
            100% { box-shadow: 0 0 0 0 rgba(96, 165, 250, 0); }
        }
        
        /* Banking Section */
        .banking-section {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 25px;
            padding: 35px;
            margin-bottom: 35px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.12);
        }
        
        /* Loading Spinner */
        .loading-spinner {
            display: none;
            text-align: center;
            margin: 30px 0;
        }
        
        .spinner {
            width: 50px;
            height: 50px;
            border: 4px solid rgba(96, 165, 250, 0.2);
            border-left: 4px solid #60a5fa;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin: 0 auto 15px;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body>
    <div class="dashboard-container">
        <!-- Modern Header -->
        <div class="modern-header fade-in">
            <h1><i class="fas fa-university"></i> Banking System Dashboard</h1>
            <p>Enterprise-Grade Banking System with EJB Timer Services & Advanced Analytics</p>
        </div>
        
        <!-- Row 1: Statistics Dashboard -->
        <div class="dashboard-row">
            <div class="stats-dashboard" id="statsContainer">
                <div class="stat-card fade-in">
                    <div class="stat-icon"><i class="fas fa-users"></i></div>
                    <div class="stat-number" id="totalCustomers">--</div>
                    <div class="stat-label">Total Customers</div>
                </div>
                
                <div class="stat-card fade-in">
                    <div class="stat-icon"><i class="fas fa-user-check"></i></div>
                    <div class="stat-number" id="activeCustomers">--</div>
                    <div class="stat-label">Active Customers</div>
                </div>
                
                <div class="stat-card fade-in">
                    <div class="stat-icon"><i class="fas fa-chart-line"></i></div>
                    <div class="stat-number" id="growthRate">100%</div>
                    <div class="stat-label">Growth Rate</div>
                </div>
                
                <div class="stat-card fade-in">
                    <div class="stat-icon"><i class="fas fa-server"></i></div>
                    <div class="stat-number pulse" style="color: #10b981;">ONLINE</div>
                    <div class="stat-label">System Status</div>
                </div>
            </div>
        </div>
        
        <!-- Row 2: Chart and Controls -->
        <div class="dashboard-grid">
            <!-- Column 1: Chart -->
            <div class="dashboard-col">
                <div class="chart-container fade-in">
                    <div class="chart-title"><i class="fas fa-chart-pie"></i> Customer Status Distribution</div>
                    <div class="chart-wrapper">
                        <canvas id="statusChart"></canvas>
                        <div class="chart-fallback" id="statusChartFallback">
                            <i class="fas fa-chart-pie"></i>
                            <div>Chart not available</div>
                            <small>Chart.js library could not be loaded</small>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Column 2: Controls -->
            <div class="dashboard-col">
                <div class="controls-section fade-in">
                    <div class="section-title">
                        <i class="fas fa-cogs"></i> System Controls
                    </div>
                    
                    <div class="button-grid">
                        <button class="modern-btn" onclick="loadDashboardData()">
                            <i class="fas fa-sync-alt"></i> Refresh Dashboard
                        </button>
                        <button class="modern-btn success" onclick="getCustomers()">
                            <i class="fas fa-users"></i> Load All Customers
                        </button>
                        <button class="modern-btn danger" onclick="showCreateCustomerForm()">
                            <i class="fas fa-user-edit"></i> Create New Customer
                        </button>
                    </div>
                    
                    <div class="loading-spinner" id="loadingSpinner">
                        <div class="spinner"></div>
                        <p>Loading data...</p>
                    </div>
                    
                    <div class="result-container" id="resultArea">
                    </div>
                </div>
            </div>
        </div>
            
        <!-- Customer Form -->
        <div class="customer-form" id="customerForm">
            <div class="section-title">
                <i class="fas fa-user-plus"></i> Create New Customer
            </div>
            
                <form id="realCustomerForm">
                <div class="form-grid">
                        <div class="form-group">
                        <label for="firstName"><i class="fas fa-user"></i> First Name *</label>
                        <input type="text" id="firstName" class="form-input" required>
                        </div>
                        <div class="form-group">
                        <label for="lastName"><i class="fas fa-user"></i> Last Name *</label>
                        <input type="text" id="lastName" class="form-input" required>
                        </div>
                    </div>
                    
                    <div class="form-group">
                    <label for="email"><i class="fas fa-envelope"></i> Email Address *</label>
                    <input type="email" id="email" class="form-input" required>
                    </div>
                    
                <div class="form-grid">
                        <div class="form-group">
                        <label for="phoneNumber"><i class="fas fa-phone"></i> Phone Number</label>
                        <input type="tel" id="phoneNumber" class="form-input" placeholder="+1-555-123-4567">
                        </div>
                        <div class="form-group">
                        <label for="dateOfBirth"><i class="fas fa-calendar"></i> Date of Birth</label>
                        <input type="date" id="dateOfBirth" class="form-input">
                        </div>
                    </div>
                    
                    <div class="form-group">
                    <label for="address"><i class="fas fa-home"></i> Address</label>
                    <input type="text" id="address" class="form-input" placeholder="123 Main Street, City, State, ZIP">
                    </div>
                    
                <div class="button-grid">
                    <button type="submit" class="modern-btn success">
                        <i class="fas fa-save"></i> Create Customer
                    </button>
                    <button type="button" class="modern-btn" onclick="hideCreateCustomerForm()">
                        <i class="fas fa-times"></i> Cancel
                    </button>
                    <button type="button" class="modern-btn danger" onclick="clearForm()">
                        <i class="fas fa-trash"></i> Clear Form
                    </button>
                </div>
            </form>
        </div>
        
        <!-- Row 3: Banking Management -->
        <div class="dashboard-row">
            <div class="dashboard-col-2">
                <!-- Account Management Section -->
                <div class="banking-section fade-in" id="accountSection">
                    <div class="section-title">
                        <i class="fas fa-piggy-bank"></i> Account Management
                    </div>
                    
                    <div class="button-grid">
                        <button class="modern-btn success" onclick="showCreateAccountForm()">
                            <i class="fas fa-plus-circle"></i> Create Account
                        </button>
                        <button class="modern-btn" onclick="getAllAccounts()">
                            <i class="fas fa-list"></i> View All Accounts
                        </button>
                        <button class="modern-btn" onclick="showAccountSearchForm()">
                            <i class="fas fa-search"></i> Find Account
                        </button>
                    </div>
            
            <!-- Create Account Form -->
            <div class="customer-form" id="createAccountForm" style="display: none;">
                <div class="section-title">
                    <i class="fas fa-plus-circle"></i> Create New Account
                </div>
                <form id="accountForm">
                    <div class="form-grid">
                    <div class="form-group">
                            <label for="accountCustomerId"><i class="fas fa-user"></i> Customer ID *</label>
                            <input type="text" id="accountCustomerId" class="form-input" required placeholder="Enter customer ID">
                        </div>
                        <div class="form-group">
                            <label for="accountType"><i class="fas fa-university"></i> Account Type *</label>
                            <select id="accountType" class="form-input" required>
                                <option value="">Select Account Type</option>
                                <option value="SAVINGS">Savings Account</option>
                                <option value="CHECKING">Checking Account</option>
                                <option value="BUSINESS">Business Account</option>
                                <option value="MONEY_MARKET">Money Market Account</option>
                        </select>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="initialDeposit"><i class="fas fa-dollar-sign"></i> Initial Deposit</label>
                        <input type="number" id="initialDeposit" class="form-input" step="0.01" min="0" placeholder="0.00">
                    </div>
                    <div class="button-grid">
                        <button type="submit" class="modern-btn success">
                            <i class="fas fa-save"></i> Create Account
                        </button>
                        <button type="button" class="modern-btn" onclick="hideCreateAccountForm()">
                            <i class="fas fa-times"></i> Cancel
                        </button>
                    </div>
                </form>
                    </div>
                    
            <!-- Account Search Form -->
            <div class="customer-form" id="accountSearchForm" style="display: none;">
                <div class="section-title">
                    <i class="fas fa-search"></i> Find Account
                </div>
                <div class="form-group">
                    <label for="searchAccountNumber"><i class="fas fa-hashtag"></i> Account Number</label>
                    <input type="text" id="searchAccountNumber" class="form-input" placeholder="Enter account number">
                </div>
                <div class="button-grid">
                    <button class="modern-btn" onclick="findAccount()">
                        <i class="fas fa-search"></i> Search Account
                    </button>
                    <button class="modern-btn" onclick="hideAccountSearchForm()">
                        <i class="fas fa-times"></i> Cancel
                    </button>
                </div>
            </div>
            
            <!-- Accounts Display -->
            <div class="accounts-grid" id="accountsGrid" style="display: none;">
                <!-- Account cards will be populated here -->
            </div>
        </div>
        
                </div>
                
                <!-- Transaction Management Section -->
                <div class="banking-section fade-in" id="transactionSection">
                    <div class="section-title">
                        <i class="fas fa-exchange-alt"></i> Transaction Management
                    </div>
                    
                    <div class="button-grid">
                        <button class="modern-btn success" onclick="showTransferForm()">
                            <i class="fas fa-paper-plane"></i> Transfer Funds
                        </button>
                        <button class="modern-btn" onclick="showDepositForm()">
                            <i class="fas fa-plus"></i> Deposit
                        </button>
                        <button class="modern-btn" onclick="showWithdrawForm()">
                            <i class="fas fa-minus"></i> Withdraw
                        </button>
                        <button class="modern-btn" onclick="showScheduleTransactionForm()">
                            <i class="fas fa-clock"></i> Schedule Transaction
                        </button>
                    </div>
            
            <!-- Transfer Form -->
            <div class="customer-form" id="transferForm" style="display: none;">
                <div class="section-title">
                    <i class="fas fa-paper-plane"></i> Transfer Funds
                </div>
                <form id="fundTransferForm">
                    <div class="form-grid">
                        <div class="form-group">
                            <label for="sourceAccount"><i class="fas fa-arrow-up"></i> From Account *</label>
                            <input type="text" id="sourceAccount" class="form-input" required placeholder="Source account number">
                        </div>
                        <div class="form-group">
                            <label for="targetAccount"><i class="fas fa-arrow-down"></i> To Account *</label>
                            <input type="text" id="targetAccount" class="form-input" required placeholder="Target account number">
                        </div>
                    </div>
                    <div class="form-grid">
                        <div class="form-group">
                            <label for="transferAmount"><i class="fas fa-dollar-sign"></i> Amount *</label>
                            <input type="number" id="transferAmount" class="form-input" step="0.01" min="0.01" required placeholder="0.00">
                        </div>
                        <div class="form-group">
                            <label for="transferDescription"><i class="fas fa-comment"></i> Description</label>
                            <input type="text" id="transferDescription" class="form-input" placeholder="Transfer description">
                        </div>
                    </div>
                    <div class="button-grid">
                        <button type="submit" class="modern-btn success">
                            <i class="fas fa-paper-plane"></i> Transfer Now
                        </button>
                        <button type="button" class="modern-btn" onclick="hideTransferForm()">
                            <i class="fas fa-times"></i> Cancel
                        </button>
                    </div>
                </form>
            </div>
            
            <!-- Deposit Form -->
            <div class="customer-form" id="depositForm" style="display: none;">
                <div class="section-title">
                    <i class="fas fa-plus"></i> Deposit Funds
                </div>
                <form id="depositFundsForm">
                    <div class="form-grid">
                        <div class="form-group">
                            <label for="depositAccount"><i class="fas fa-university"></i> Account Number *</label>
                            <input type="text" id="depositAccount" class="form-input" required placeholder="Account number">
                        </div>
                        <div class="form-group">
                            <label for="depositAmount"><i class="fas fa-dollar-sign"></i> Amount *</label>
                            <input type="number" id="depositAmount" class="form-input" step="0.01" min="0.01" required placeholder="0.00">
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="depositDescription"><i class="fas fa-comment"></i> Description</label>
                        <input type="text" id="depositDescription" class="form-input" placeholder="Deposit description">
                    </div>
                    <div class="button-grid">
                        <button type="submit" class="modern-btn success">
                            <i class="fas fa-plus"></i> Deposit Now
                        </button>
                        <button type="button" class="modern-btn" onclick="hideDepositForm()">
                            <i class="fas fa-times"></i> Cancel
                        </button>
                    </div>
                </form>
            </div>
            
            <!-- Withdraw Form -->
            <div class="customer-form" id="withdrawForm" style="display: none;">
                <div class="section-title">
                    <i class="fas fa-minus"></i> Withdraw Funds
                </div>
                <form id="withdrawFundsForm">
                    <div class="form-grid">
                        <div class="form-group">
                            <label for="withdrawAccount"><i class="fas fa-university"></i> Account Number *</label>
                            <input type="text" id="withdrawAccount" class="form-input" required placeholder="Account number">
                        </div>
                        <div class="form-group">
                            <label for="withdrawAmount"><i class="fas fa-dollar-sign"></i> Amount *</label>
                            <input type="number" id="withdrawAmount" class="form-input" step="0.01" min="0.01" required placeholder="0.00">
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="withdrawDescription"><i class="fas fa-comment"></i> Description</label>
                        <input type="text" id="withdrawDescription" class="form-input" placeholder="Withdrawal description">
                    </div>
                    <div class="button-grid">
                        <button type="submit" class="modern-btn success">
                            <i class="fas fa-minus"></i> Withdraw Now
                        </button>
                        <button type="button" class="modern-btn" onclick="hideWithdrawForm()">
                            <i class="fas fa-times"></i> Cancel
                        </button>
                    </div>
                </form>
            </div>
            
            <!-- Schedule Transaction Form -->
            <div class="customer-form" id="scheduleTransactionForm" style="display: none;">
                <div class="section-title">
                    <i class="fas fa-clock"></i> Schedule Transaction
                </div>
                <form id="scheduleForm">
                    <div class="form-grid">
                        <div class="form-group">
                            <label for="scheduleSourceAccount"><i class="fas fa-arrow-up"></i> From Account *</label>
                            <input type="text" id="scheduleSourceAccount" class="form-input" required placeholder="Source account number">
                        </div>
                        <div class="form-group">
                            <label for="scheduleTargetAccount"><i class="fas fa-arrow-down"></i> To Account</label>
                            <input type="text" id="scheduleTargetAccount" class="form-input" placeholder="Target account (optional for deposits/withdrawals)">
                        </div>
                    </div>
                    <div class="form-grid">
                        <div class="form-group">
                            <label for="scheduleTransactionType"><i class="fas fa-list"></i> Transaction Type *</label>
                            <select id="scheduleTransactionType" class="form-input" required>
                                <option value="">Select Type</option>
                                <option value="TRANSFER">Transfer</option>
                                <option value="DEPOSIT">Deposit</option>
                                <option value="WITHDRAWAL">Withdrawal</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="scheduleAmount"><i class="fas fa-dollar-sign"></i> Amount *</label>
                            <input type="number" id="scheduleAmount" class="form-input" step="0.01" min="0.01" required placeholder="0.00">
                        </div>
                    </div>
                    <div class="form-grid">
                        <div class="form-group">
                            <label for="scheduleDate"><i class="fas fa-calendar"></i> Schedule Date *</label>
                            <input type="datetime-local" id="scheduleDate" class="form-input" required>
                        </div>
                        <div class="form-group">
                            <label for="scheduleDescription"><i class="fas fa-comment"></i> Description</label>
                            <input type="text" id="scheduleDescription" class="form-input" placeholder="Transaction description">
                        </div>
                    </div>
                    <div class="button-grid">
                        <button type="submit" class="modern-btn success">
                            <i class="fas fa-clock"></i> Schedule Transaction
                        </button>
                        <button type="button" class="modern-btn" onclick="hideScheduleTransactionForm()">
                            <i class="fas fa-times"></i> Cancel
                        </button>
                    </div>
                </form>
                </div>
            </div>
            
            </div>
        </div>
        
        <!-- Row 4: Timer Services and Reports -->
        <div class="dashboard-row">
            <div class="dashboard-col-2">
                <!-- Timer Services Management Section -->
                <div class="banking-section fade-in" id="timerSection">
                    <div class="section-title">
                        <i class="fas fa-clock"></i> Timer Services & Automation
                    </div>
                    
                    <div class="button-grid">
                        <button class="modern-btn" onclick="triggerManualInterestCalculation()">
                            <i class="fas fa-percentage"></i> Calculate Interest Manually
                        </button>
                        <button class="modern-btn success" onclick="getAutomaticInterestStatus()">
                            <i class="fas fa-robot"></i> View Automatic Interest Status
                        </button>
                        <button class="modern-btn" onclick="getScheduledTransactions()">
                            <i class="fas fa-calendar-check"></i> View Scheduled Transactions
                        </button>
                        <button class="modern-btn" onclick="getPendingTransactions()">
                            <i class="fas fa-hourglass-half"></i> View Pending Transactions
                        </button>
                        <button class="modern-btn danger" onclick="emergencyTimerStop()">
                            <i class="fas fa-stop"></i> Emergency Stop
                        </button>
                    </div>
            
            <!-- Timer Status Display -->
            <div class="stats-dashboard" id="timerStatsContainer">
                <div class="stat-card fade-in">
                    <div class="stat-icon"><i class="fas fa-calendar"></i></div>
                    <div class="stat-number pulse" style="color: #48bb78;">ACTIVE</div>
                    <div class="stat-label">Daily Interest (2:00 AM)</div>
        </div>
        
                <div class="stat-card fade-in">
                    <div class="stat-icon"><i class="fas fa-exchange-alt"></i></div>
                    <div class="stat-number pulse" style="color: #48bb78;">ACTIVE</div>
                    <div class="stat-label">Scheduled Transfers (Every 5min)</div>
                </div>
                
                <div class="stat-card fade-in">
                    <div class="stat-icon"><i class="fas fa-chart-line"></i></div>
                    <div class="stat-number pulse" style="color: #48bb78;">ACTIVE</div>
                    <div class="stat-label">Weekly Reports (Monday 6AM)</div>
                </div>
                
                <div class="stat-card fade-in">
                    <div class="stat-icon"><i class="fas fa-balance-scale"></i></div>
                    <div class="stat-number pulse" style="color: #48bb78;">ACTIVE</div>
                    <div class="stat-label">Daily Balance Updates (1AM)</div>
                </div>
            </div>
        </div>
        
                </div>
                
                <!-- Reports and Analytics Section -->
                <div class="banking-section fade-in" id="reportsSection">
                    <div class="section-title">
                        <i class="fas fa-chart-bar"></i> Reports & Analytics
                    </div>
                    
                    <div class="button-grid">
                        <button class="modern-btn" onclick="generateWeeklyReport()">
                            <i class="fas fa-file-alt"></i> Generate Weekly Report
                        </button>
                        <button class="modern-btn" onclick="generateMonthlyReport()">
                            <i class="fas fa-calendar-alt"></i> Generate Monthly Report
                        </button>
                        <button class="modern-btn" onclick="getTransactionHistory()">
                            <i class="fas fa-history"></i> Transaction History
                        </button>
                        <button class="modern-btn success" onclick="getWeeklyReport()">
                            <i class="fas fa-chart-bar"></i> Weekly Report
                        </button>
                        <button class="modern-btn info" onclick="getMonthlyReport()">
                            <i class="fas fa-chart-line"></i> Monthly Report
                        </button>
                    </div>
                </div>
            </div>
        </div>
        

        
        <!-- Row 5: Customer Display Section -->
        <div class="dashboard-row">
            <div class="customer-section fade-in" id="customersSection" style="display: none;">
                <div class="section-title">
                    <i class="fas fa-users"></i> Customer Directory
                    <span id="customerCount" style="font-size: 1rem; color: #60a5fa; font-weight: 500;"></span>
                </div>
                <div class="customers-grid" id="customersGrid">
                    <!-- Customer cards will be populated here -->
                </div>
            </div>
        </div>
    </div>

    <script>
        const API_BASE = '/banking-system/api';
        let customersData = [];
        let statusChart;
        
        // Initialize dashboard
        document.addEventListener('DOMContentLoaded', function() {
            // Wait a bit for Chart.js to load, then initialize
            setTimeout(() => {
                initializeCharts();
                loadDashboardData();
            }, 100);
            
            // Retry chart initialization if it failed initially
            if (typeof Chart === 'undefined') {
                setTimeout(() => {
                    if (typeof Chart !== 'undefined' && !statusChart) {
                        displayResult('🔄 Retrying chart initialization...');
                        initializeCharts();
                    }
                }, 2000);
            }
        });
        
        function showLoading() {
            document.getElementById('loadingSpinner').style.display = 'block';
        }
        
        function hideLoading() {
            document.getElementById('loadingSpinner').style.display = 'none';
        }
        
        function displayResult(result, isError = false) {
            const resultArea = document.getElementById('resultArea');
            const timestamp = new Date().toLocaleTimeString();
            const status = isError ? '❌ [ERROR]' : '✅ [SUCCESS]';
            const icon = isError ? '🔴' : '🟢';
            
            // Only show error messages and important success messages
            if (isError || result.includes('Failed') || result.includes('Error') || result.includes('Connection')) {
                resultArea.textContent += `\n${timestamp} ${status} ${result}`;
                resultArea.scrollTop = resultArea.scrollHeight;
            }
        }
        
        function updateStats(stats) {
            document.getElementById('totalCustomers').textContent = stats.totalCustomers || 0;
            document.getElementById('activeCustomers').textContent = stats.activeCustomers || 0;
            
            // Calculate growth rate (assuming all customers are new)
            const growthRate = stats.totalCustomers > 0 ? '100%' : '0%';
            document.getElementById('growthRate').textContent = growthRate;
        }
        
        function initializeCharts() {
            try {
                // Check if Chart.js is loaded
                if (typeof Chart === 'undefined') {
                    console.warn('Chart.js library not loaded. Charts will not be displayed.');
                    displayResult('⚠️ Chart.js library not loaded - charts disabled');
                    
                    // Show fallback elements
                    const statusFallback = document.getElementById('statusChartFallback');
                    if (statusFallback) statusFallback.classList.add('active');
                    
                    return;
                }

                // Status Chart
                const statusCanvas = document.getElementById('statusChart');
                if (statusCanvas) {
                    const statusCtx = statusCanvas.getContext('2d');
                    statusChart = new Chart(statusCtx, {
                        type: 'doughnut',
                        data: {
                            labels: ['Active', 'Inactive'],
                            datasets: [{
                                data: [0, 0],
                                backgroundColor: ['#48bb78', '#f56565'],
                                borderWidth: 0,
                                cutout: '70%'
                            }]
                        },
                        options: {
                            responsive: true,
                            maintainAspectRatio: false,
                            plugins: {
                                legend: {
                                    position: 'bottom',
                                    labels: {
                                        usePointStyle: true,
                                        padding: 20,
                                        font: {
                                            family: 'Inter',
                                            size: 12
                                        }
                                    }
                                }
                            },
                            animation: {
                                animateScale: true,
                                animateRotate: true
                            }
                        }
                    });
                }
                

                
                // Hide fallback elements since charts loaded successfully
                const statusFallback = document.getElementById('statusChartFallback');
                if (statusFallback) statusFallback.classList.remove('active');
                
                // Charts initialized successfully
            } catch (error) {
                console.error('Error initializing charts:', error);
                displayResult(`❌ Chart initialization failed: ${error.message}`, true);
                
                // Show fallback elements on error
                const statusFallback = document.getElementById('statusChartFallback');
                const trendFallback = document.getElementById('trendChartFallback');
                if (statusFallback) statusFallback.classList.add('active');
                if (trendFallback) trendFallback.classList.add('active');
            }
        }
        
        function updateCharts(customers) {
            try {
                const activeCount = customers.filter(c => c.status === 'ACTIVE').length;
                const inactiveCount = customers.length - activeCount;
                
                // Update status chart
                if (statusChart && statusChart.data) {
                    statusChart.data.datasets[0].data = [activeCount, inactiveCount];
                    statusChart.update('active');
                    // Status chart updated
                }
                

            } catch (error) {
                console.error('Error updating charts:', error);
                displayResult(`❌ Chart update failed: ${error.message}`, true);
                
                // Fallback: Display chart data as text
                displayChartDataFallback(customers);
            }
        }
        
        function displayChartDataFallback(customers) {
            const activeCount = customers.filter(c => c.status === 'ACTIVE').length;
            const inactiveCount = customers.length - activeCount;
            
            displayResult(`📊 CHART DATA (Fallback):`);
            displayResult(`✅ Active Customers: ${activeCount}`);
            displayResult(`❌ Inactive Customers: ${inactiveCount}`);
            displayResult(`📈 Total Customers: ${customers.length}`);
        }
        

        
        function displayCustomers(customers) {
            const customersGrid = document.getElementById('customersGrid');
            const customersSection = document.getElementById('customersSection');
            const customerCount = document.getElementById('customerCount');
            
            customerCount.textContent = `(${customers.length} customers)`;
            customersGrid.innerHTML = '';
            
            customers.forEach(customer => {
                const customerCard = createCustomerCard(customer);
                customersGrid.appendChild(customerCard);
            });
            
            customersSection.style.display = 'block';
            customersSection.classList.add('fade-in');
        }
        
        function createCustomerCard(customer) {
            const card = document.createElement('div');
            card.className = 'customer-card fade-in';
            
            const initials = `${customer.firstName[0]}${customer.lastName[0]}`;
            const statusClass = customer.status === 'ACTIVE' ? 'status-active' : 'status-inactive';
            const statusIcon = customer.status === 'ACTIVE' ? 'fas fa-check-circle' : 'fas fa-times-circle';
            
            card.innerHTML = `
                <div class="customer-header">
                    <div class="customer-avatar">${initials}</div>
                    <div class="customer-info">
                        <h3>${customer.firstName} ${customer.lastName}</h3>
                        <div class="customer-id">${customer.customerId}</div>
                    </div>
                </div>
                <div class="customer-details">
                    <div class="detail-row">
                        <i class="fas fa-envelope detail-icon"></i>
                        <span>${customer.email}</span>
                    </div>
                    ${customer.phoneNumber ? `
                    <div class="detail-row">
                        <i class="fas fa-phone detail-icon"></i>
                        <span>${customer.phoneNumber}</span>
                    </div>` : ''}
                    ${customer.address ? `
                    <div class="detail-row">
                        <i class="fas fa-home detail-icon"></i>
                        <span>${customer.address}</span>
                    </div>` : ''}
                    <div class="detail-row">
                        <i class="fas fa-calendar detail-icon"></i>
                        <span>Joined: ${new Date(customer.createdAt).toLocaleDateString()}</span>
                    </div>
                </div>
                <div class="customer-status ${statusClass}">
                    <i class="${statusIcon}"></i>
                    ${customer.status}
                </div>
            `;
            
            return card;
        }
        
        async function loadDashboardData() {
            showLoading();
            
            try {
                // Load statistics
                await getDatabaseStats();
                
                // Load customers
                await getCustomers();
                
            } catch (error) {
                displayResult(`Failed to load dashboard: ${error.message}`, true);
            } finally {
                hideLoading();
            }
        }
        

        
        async function getCustomers() {
            try {
                const response = await fetch(`${API_BASE}/public/customers`, {
                    method: 'GET',
                    headers: { 'Accept': 'application/json' }
                });
                
                if (response.ok) {
                    customersData = await response.json();
                    
                    // Update dashboard
                    displayCustomers(customersData);
                    updateCharts(customersData);
                    
                } else {
                    const error = await response.json();
                    displayResult(`❌ Failed to fetch customers: ${error.message}`, true);
                }
            } catch (error) {
                displayResult(`🚨 Error fetching customers: ${error.message}`, true);
            }
        }
        
        async function getDatabaseStats() {
            try {
                const response = await fetch(`${API_BASE}/public/customers/stats`, {
                    method: 'GET',
                    headers: { 'Accept': 'application/json' }
                });
                
                if (response.ok) {
                    const stats = await response.json();
                    updateStats(stats);
                    
                } else {
                    const error = await response.json();
                    displayResult(`❌ Failed to get database stats: ${error.message}`, true);
                }
            } catch (error) {
                displayResult(`🚨 Error getting database stats: ${error.message}`, true);
            }
        }
        

        
        function showCreateCustomerForm() {
            document.getElementById('customerForm').style.display = 'block';
            document.getElementById('customerForm').classList.add('fade-in');
            document.getElementById('firstName').focus();
        }
        
        function hideCreateCustomerForm() {
            document.getElementById('customerForm').style.display = 'none';
            clearForm();
        }
        
        function clearForm() {
            document.getElementById('realCustomerForm').reset();
        }
        
        // Handle customer form submission
        document.getElementById('realCustomerForm').addEventListener('submit', async function(e) {
            e.preventDefault();
            
            const customerData = {
                firstName: document.getElementById('firstName').value.trim(),
                lastName: document.getElementById('lastName').value.trim(),
                email: document.getElementById('email').value.trim(),
                phoneNumber: document.getElementById('phoneNumber').value.trim(),
                address: document.getElementById('address').value.trim(),
                dateOfBirth: document.getElementById('dateOfBirth').value || null,
                status: 'ACTIVE'
            };
            
            if (!customerData.firstName || !customerData.lastName || !customerData.email) {
                displayResult(`❌ Please fill in all required fields`, true);
                return;
            }
            
            try {
                displayResult(`👤 Creating customer: ${customerData.firstName} ${customerData.lastName}...`);
                
                const response = await fetch(`${API_BASE}/public/customers/create`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json', 'Accept': 'application/json' },
                    body: JSON.stringify(customerData)
                });
                
                if (response.ok) {
                    const createdCustomer = await response.json();
                    displayResult(`🎉 Customer created successfully! ID: ${createdCustomer.customerId}`);
                    
                    hideCreateCustomerForm();
                    setTimeout(loadDashboardData, 1000);
                } else {
                    const error = await response.json();
                    displayResult(`❌ Failed to create customer: ${error.message}`, true);
                }
            } catch (error) {
                displayResult(`🚨 Error creating customer: ${error.message}`, true);
            }
        });
        
        // ============= BANKING MANAGEMENT FUNCTIONS =============
        
        // Account Management Functions
        function showCreateAccountForm() {
            hideAllForms();
            document.getElementById('createAccountForm').style.display = 'block';
        }
        
        function hideCreateAccountForm() {
            document.getElementById('createAccountForm').style.display = 'none';
        }
        
        function showAccountSearchForm() {
            hideAllForms();
            document.getElementById('accountSearchForm').style.display = 'block';
        }
        
        function hideAccountSearchForm() {
            document.getElementById('accountSearchForm').style.display = 'none';
        }
        
        async function getAllAccounts() {
            showLoading();
            try {
                const response = await fetch(`${API_BASE}/accounts`);
                if (response.ok) {
                    const accounts = await response.json();
                    displayAccounts(accounts);
                    displayResult(`📋 Retrieved ${accounts.length} accounts`);
                } else {
                    displayResult('❌ Failed to retrieve accounts', true);
                }
            } catch (error) {
                displayResult(`🚨 Error getting accounts: ${error.message}`, true);
            } finally {
                hideLoading();
            }
        }
        
        async function findAccount() {
            const accountNumber = document.getElementById('searchAccountNumber').value.trim();
            if (!accountNumber) {
                displayResult('❌ Please enter an account number', true);
                return;
            }
            
            showLoading();
            try {
                const response = await fetch(`${API_BASE}/accounts/${accountNumber}`);
                if (response.ok) {
                    const account = await response.json();
                    displayAccounts([account]);
                    displayResult(`✅ Account found: ${account.accountNumber}`);
                    hideAccountSearchForm();
                } else {
                    displayResult(`❌ Account not found: ${accountNumber}`, true);
                }
            } catch (error) {
                displayResult(`🚨 Error finding account: ${error.message}`, true);
            } finally {
                hideLoading();
            }
        }
        
        function displayAccounts(accounts) {
            const accountsGrid = document.getElementById('accountsGrid');
            accountsGrid.style.display = 'block';
            
            if (accounts.length === 0) {
                accountsGrid.innerHTML = '<p>No accounts found.</p>';
                return;
            }
            
            accountsGrid.innerHTML = accounts.map(account => `
                <div class="customer-card fade-in">
                    <div class="customer-header">
                        <div class="customer-avatar">
                            <i class="fas fa-university"></i>
                        </div>
                        <div class="customer-info">
                            <div class="customer-name">Account #${account.accountNumber}</div>
                            <div class="customer-id">${account.accountType} Account</div>
                        </div>
                    </div>
                    <div class="customer-details">
                        <div class="detail-row">
                            <i class="detail-icon fas fa-dollar-sign"></i>
                            <span>Balance: $${account.balance.toFixed(2)}</span>
                        </div>
                        <div class="detail-row">
                            <i class="detail-icon fas fa-credit-card"></i>
                            <span>Available: $${account.availableBalance.toFixed(2)}</span>
                        </div>
                        <div class="detail-row">
                            <i class="detail-icon fas fa-percentage"></i>
                            <span>Interest Rate: ${(account.interestRate * 100).toFixed(2)}%</span>
                        </div>
                        <div class="detail-row">
                            <i class="detail-icon fas fa-user"></i>
                            <span>Owner: ${account.customer.firstName} ${account.customer.lastName}</span>
                        </div>
                    </div>
                    <div class="customer-status ${account.status === 'ACTIVE' ? 'status-active' : 'status-inactive'}">
                        <i class="fas fa-circle"></i>
                        ${account.status}
                    </div>
                </div>
            `).join('');
        }
        
        // Account Creation Form Handler
        document.getElementById('accountForm').addEventListener('submit', async function(e) {
            e.preventDefault();
            
            const customerId = document.getElementById('accountCustomerId').value.trim();
            const accountType = document.getElementById('accountType').value;
            const initialDeposit = parseFloat(document.getElementById('initialDeposit').value) || 0;
            
            if (!customerId || !accountType) {
                displayResult('❌ Please fill in all required fields', true);
                return;
            }
            
            showLoading();
            try {
                const accountData = {
                    customerId: customerId,
                    accountType: accountType,
                    initialDeposit: initialDeposit > 0 ? initialDeposit : null
                };
                
                const response = await fetch(`${API_BASE}/accounts`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(accountData)
                });
                
                if (response.ok) {
                    const account = await response.json();
                    displayResult(`🎉 Account created successfully!`);
                    displayResult(`🏦 Account Number: ${account.accountNumber}`);
                    displayResult(`💰 Initial Balance: $${account.balance.toFixed(2)}`);
                    hideCreateAccountForm();
                } else {
                    const error = await response.json();
                    displayResult(`❌ Failed to create account: ${error.message}`, true);
                }
            } catch (error) {
                displayResult(`🚨 Error creating account: ${error.message}`, true);
            } finally {
                hideLoading();
            }
        });
        
        // Transaction Management Functions
        function showTransferForm() {
            hideAllForms();
            document.getElementById('transferForm').style.display = 'block';
        }
        
        function hideTransferForm() {
            document.getElementById('transferForm').style.display = 'none';
        }
        
        function showDepositForm() {
            hideAllForms();
            document.getElementById('depositForm').style.display = 'block';
        }
        
        function hideDepositForm() {
            document.getElementById('depositForm').style.display = 'none';
        }
        
        function showWithdrawForm() {
            hideAllForms();
            document.getElementById('withdrawForm').style.display = 'block';
        }
        
        function hideWithdrawForm() {
            document.getElementById('withdrawForm').style.display = 'none';
        }
        
        function showScheduleTransactionForm() {
            hideAllForms();
            document.getElementById('scheduleTransactionForm').style.display = 'block';
            // Set minimum date to now
            const now = new Date();
            now.setMinutes(now.getMinutes() - now.getTimezoneOffset());
            document.getElementById('scheduleDate').min = now.toISOString().slice(0, 16);
        }
        
        function hideScheduleTransactionForm() {
            document.getElementById('scheduleTransactionForm').style.display = 'none';
        }
        
        // Transfer Form Handler
        document.getElementById('fundTransferForm').addEventListener('submit', async function(e) {
            e.preventDefault();
            
            const sourceAccount = document.getElementById('sourceAccount').value.trim();
            const targetAccount = document.getElementById('targetAccount').value.trim();
            const amount = parseFloat(document.getElementById('transferAmount').value);
            const description = document.getElementById('transferDescription').value.trim();
            
            if (!sourceAccount || !targetAccount || !amount) {
                displayResult('❌ Please fill in all required fields', true);
                return;
            }
            
            if (amount <= 0) {
                displayResult('❌ Amount must be greater than 0', true);
                return;
            }
            
            showLoading();
            try {
                const transferData = {
                    sourceAccountNumber: sourceAccount,
                    targetAccountNumber: targetAccount,
                    amount: amount,
                    description: description || 'Transfer'
                };
                
                const response = await fetch(`${API_BASE}/transactions/transfer`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(transferData)
                });

                if (response.ok) {
                    const transaction = await response.json();
                    displayResult(`🎉 Transfer completed successfully!`);
                    displayResult(`💸 Transaction ID: ${transaction.transactionId}`);
                    displayResult(`💰 Amount: $${amount.toFixed(2)}`);
                    displayResult(`📤 From: ${sourceAccount}`);
                    displayResult(`📥 To: ${targetAccount}`);
                    hideTransferForm();
                } else {
                    const error = await response.json();
                    displayResult(`❌ Transfer failed: ${error.message}`, true);
                }
            } catch (error) {
                displayResult(`🚨 Error processing transfer: ${error.message}`, true);
            } finally {
                hideLoading();
            }
        });

        // Deposit Form Handler
        document.getElementById('depositFundsForm').addEventListener('submit', async function(e) {
            e.preventDefault();
            
            const accountNumber = document.getElementById('depositAccount').value.trim();
            const amount = parseFloat(document.getElementById('depositAmount').value);
            const description = document.getElementById('depositDescription').value.trim();
            
            if (!accountNumber || !amount) {
                displayResult('❌ Please fill in all required fields', true);
                return;
            }
            
            if (amount <= 0) {
                displayResult('❌ Amount must be greater than 0', true);
                return;
            }
            
            showLoading();
            try {
                const depositData = {
                    accountNumber: accountNumber,
                    amount: amount,
                    description: description || 'Deposit'
                };
                
                const response = await fetch(`${API_BASE}/transactions/deposit`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(depositData)
                });
                
                if (response.ok) {
                    const transaction = await response.json();
                    displayResult(`🎉 Deposit completed successfully!`);
                    displayResult(`💰 Transaction ID: ${transaction.transactionId}`);
                    displayResult(`💵 Amount: $${amount.toFixed(2)}`);
                    displayResult(`🏦 Account: ${accountNumber}`);
                    hideDepositForm();
                } else {
                    const error = await response.json();
                    displayResult(`❌ Deposit failed: ${error.message}`, true);
                }
            } catch (error) {
                displayResult(`🚨 Error processing deposit: ${error.message}`, true);
            } finally {
                hideLoading();
            }
        });
        
        // Withdraw Form Handler
        document.getElementById('withdrawFundsForm').addEventListener('submit', async function(e) {
            e.preventDefault();
            
            const accountNumber = document.getElementById('withdrawAccount').value.trim();
            const amount = parseFloat(document.getElementById('withdrawAmount').value);
            const description = document.getElementById('withdrawDescription').value.trim();
            
            if (!accountNumber || !amount) {
                displayResult('❌ Please fill in all required fields', true);
                return;
            }
            
            if (amount <= 0) {
                displayResult('❌ Amount must be greater than 0', true);
                return;
            }
            
            showLoading();
            try {
                const withdrawData = {
                    accountNumber: accountNumber,
                    amount: amount,
                    description: description || 'Withdrawal'
                };
                
                const response = await fetch(`${API_BASE}/transactions/withdraw`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(withdrawData)
                });
                
                if (response.ok) {
                    const transaction = await response.json();
                    displayResult(`🎉 Withdrawal completed successfully!`);
                    displayResult(`💰 Transaction ID: ${transaction.transactionId}`);
                    displayResult(`💵 Amount: $${amount.toFixed(2)}`);
                    displayResult(`🏦 Account: ${accountNumber}`);
                    hideWithdrawForm();
                } else {
                    const error = await response.json();
                    displayResult(`❌ Withdrawal failed: ${error.message}`, true);
                }
            } catch (error) {
                displayResult(`🚨 Error processing withdrawal: ${error.message}`, true);
            } finally {
                hideLoading();
            }
        });
        
        // Schedule Transaction Form Handler
        document.getElementById('scheduleForm').addEventListener('submit', async function(e) {
            e.preventDefault();
            
            const sourceAccount = document.getElementById('scheduleSourceAccount').value.trim();
            const targetAccount = document.getElementById('scheduleTargetAccount').value.trim();
            const transactionType = document.getElementById('scheduleTransactionType').value;
            const amount = parseFloat(document.getElementById('scheduleAmount').value);
            const scheduleDate = document.getElementById('scheduleDate').value;
            const description = document.getElementById('scheduleDescription').value.trim();
            
            if (!sourceAccount || !transactionType || !amount || !scheduleDate) {
                displayResult('❌ Please fill in all required fields', true);
                return;
            }
            
            if (transactionType === 'TRANSFER' && !targetAccount) {
                displayResult('❌ Target account is required for transfers', true);
                return;
            }
            
            showLoading();
            try {
                const scheduleData = {
                    sourceAccountNumber: sourceAccount,
                    targetAccountNumber: targetAccount || null,
                    transactionType: transactionType,
                    amount: amount,
                    scheduledDate: scheduleDate,
                    description: description || `Scheduled ${transactionType.toLowerCase()}`
                };
                
                const response = await fetch(`${API_BASE}/transactions/schedule`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(scheduleData)
                });
                
                if (response.ok) {
                    const transaction = await response.json();
                    displayResult(`🎉 Transaction scheduled successfully!`);
                    displayResult(`⏰ Transaction ID: ${transaction.transactionId}`);
                    displayResult(`📅 Scheduled for: ${new Date(scheduleDate).toLocaleString()}`);
                    displayResult(`💰 Amount: $${amount.toFixed(2)}`);
                    hideScheduleTransactionForm();
                } else {
                    const error = await response.json();
                    displayResult(`❌ Scheduling failed: ${error.message}`, true);
                }
            } catch (error) {
                displayResult(`🚨 Error scheduling transaction: ${error.message}`, true);
            } finally {
                hideLoading();
            }
        });
        
        // Timer Services Functions
        async function triggerManualInterestCalculation() {
            showLoading();
            try {
                const response = await fetch(`${API_BASE}/timer/interest/manual`, {
                    method: 'POST'
                });
                
                if (response.ok) {
                    displayResult(`🎉 Manual interest calculation triggered successfully!`);
                    displayResult(`💰 Interest calculations are now being processed for all eligible accounts`);
                    } else {
                    displayResult(`❌ Failed to trigger interest calculation`, true);
                }
            } catch (error) {
                displayResult(`🚨 Error triggering interest calculation: ${error.message}`, true);
            } finally {
                hideLoading();
            }
        }

        async function getAutomaticInterestStatus() {
            showLoading();
            clearExistingTables(); // Clear previous displays
            try {
                const response = await fetch(`${API_BASE}/timer/automatic-interest`);
                if (response.ok) {
                    const status = await response.json();
                    displayResult(`🤖 Automatic Interest Calculation Status Retrieved!`);
                    
                    // Create visual status display
                    let statusHtml = `
                        <div data-transaction-table style="margin: 10px 0; padding: 20px; background: #e8f5e8; border-radius: 8px; border-left: 4px solid #28a745;">
                            <h4 style="margin: 0 0 20px 0; color: #155724;">🤖 Automatic Interest Calculation Status</h4>
                            
                            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-bottom: 20px;">
                                <div style="background: white; padding: 15px; border-radius: 6px; border: 1px solid #c3e6cb;">
                                    <h5 style="margin: 0 0 10px 0; color: #155724;">📊 Current Status</h5>
                                    <p style="margin: 5px 0;"><strong>Automatic Calculation:</strong> ${status.automaticCalculationEnabled ? '🟢 ENABLED' : '🔴 DISABLED'}</p>
                                    <p style="margin: 5px 0;"><strong>Calculation Interval:</strong> ⏱️ ${status.calculationInterval}</p>
                                    <p style="margin: 5px 0;"><strong>Eligible Accounts:</strong> 👥 ${status.totalAccountsEligible} accounts</p>
                                </div>
                                
                                <div style="background: white; padding: 15px; border-radius: 6px; border: 1px solid #c3e6cb;">
                                    <h5 style="margin: 0 0 10px 0; color: #155724;">⏰ Timing Information</h5>
                                    <p style="margin: 5px 0;"><strong>Last Calculation:</strong><br/> 📅 ${new Date(status.lastCalculationTime).toLocaleString()}</p>
                                    <p style="margin: 5px 0;"><strong>Next Calculation:</strong><br/> 🔜 ${new Date(status.nextCalculationTime).toLocaleString()}</p>
                                </div>
                            </div>
                            
                            <div style="background: #d1ecf1; padding: 15px; border-radius: 6px; border-left: 3px solid #17a2b8;">
                                <h5 style="margin: 0 0 10px 0; color: #0c5460;">ℹ️ How Automatic Interest Works</h5>
                                <ul style="margin: 5px 0; padding-left: 20px;">
                                    <li>🎯 <strong>Every 3 minutes</strong>: System automatically calculates micro-interest for all eligible accounts</li>
                                    <li>💰 <strong>Micro-amounts</strong>: Small amounts are added continuously (daily rate ÷ 480 intervals)</li>
                                    <li>🔒 <strong>Secure Processing</strong>: Each calculation runs in its own transaction for data integrity</li>
                                    <li>📈 <strong>Real-time Growth</strong>: Watch your account balances grow automatically!</li>
                                </ul>
                            </div>
                            
                            <div style="text-align: center; margin-top: 15px;">
                                <span style="background: #28a745; color: white; padding: 8px 16px; border-radius: 20px; font-weight: bold;">
                                    🚀 System is automatically calculating interest every 3 minutes!
                                </span>
                            </div>
                        </div>`;
                    
                    // Insert the status display
                    const resultArea = document.getElementById('resultArea');
                    if (resultArea) {
                        const statusContainer = document.createElement('div');
                        statusContainer.innerHTML = statusHtml;
                        resultArea.parentNode.insertBefore(statusContainer, resultArea.nextSibling);
                    }
                    
                    // Calculate time remaining until next calculation
                    const nextCalc = new Date(status.nextCalculationTime);
                    const now = new Date();
                    const timeDiff = Math.max(0, Math.ceil((nextCalc - now) / 1000));
                    const minutes = Math.floor(timeDiff / 60);
                    const seconds = timeDiff % 60;
                    
                    displayResult(`⏳ Next automatic calculation in: ${minutes}m ${seconds}s`);
                    displayResult(`💵 ${status.totalAccountsEligible} accounts are earning automatic interest!`);
                    
                } else {
                    displayResult(`❌ Failed to retrieve automatic interest status`, true);
                }
            } catch (error) {
                displayResult(`🚨 Error getting automatic interest status: ${error.message}`, true);
            } finally {
                hideLoading();
            }
        }
        
        function clearExistingTables() {
            // Remove any existing transaction tables
            const existingTables = document.querySelectorAll('[data-transaction-table]');
            existingTables.forEach(table => table.remove());
            
            // Clear the text output/logging from resultArea to show clean graphical displays
            const resultArea = document.getElementById('resultArea');
            if (resultArea) {
                resultArea.textContent = '';
            }
        }

        // Manual clear display function
        function clearDisplay() {
            const resultArea = document.getElementById('resultArea');
            if (resultArea) {
                resultArea.textContent = '';
            }
            // Also remove any existing tables
            const existingTables = document.querySelectorAll('[data-transaction-table]');
            existingTables.forEach(table => table.remove());
        }

        async function getScheduledTransactions() {
            showLoading();
            clearExistingTables(); // Clear previous tables
            try {
                const response = await fetch(`${API_BASE}/transactions/scheduled`);
                if (response.ok) {
                    const transactions = await response.json();
                    displayResult(`📅 Found ${transactions.length} scheduled transactions`);
                    
                    if (transactions.length > 0) {
                        // Display transactions in a structured table format
                        let tableHtml = `
                            <div data-transaction-table style="margin: 10px 0; padding: 15px; background: #f8f9fa; border-radius: 8px; border-left: 4px solid #007bff;">
                                <h4 style="margin: 0 0 15px 0; color: #007bff;">📅 Scheduled Transactions</h4>
                                <table style="width: 100%; border-collapse: collapse; font-family: monospace;">
                                    <thead>
                                        <tr style="background: #e9ecef;">
                                            <th style="padding: 8px; border: 1px solid #ddd; text-align: left;">Transaction ID</th>
                                            <th style="padding: 8px; border: 1px solid #ddd; text-align: left;">Type</th>
                                            <th style="padding: 8px; border: 1px solid #ddd; text-align: right;">Amount</th>
                                            <th style="padding: 8px; border: 1px solid #ddd; text-align: left;">Scheduled Date</th>
                                            <th style="padding: 8px; border: 1px solid #ddd; text-align: left;">Description</th>
                                        </tr>
                                    </thead>
                                    <tbody>`;
                        
                        transactions.forEach(tx => {
                            const scheduledDate = new Date(tx.scheduledDate);
                            const isOverdue = scheduledDate < new Date();
                            const rowColor = isOverdue ? '#fff3cd' : '#d4edda';
                            const statusIcon = isOverdue ? '⚠️' : '⏰';
                            
                            tableHtml += `
                                <tr style="background: ${rowColor};">
                                    <td style="padding: 8px; border: 1px solid #ddd; font-weight: bold;">${statusIcon} ${tx.transactionId}</td>
                                    <td style="padding: 8px; border: 1px solid #ddd;">${tx.transactionType}</td>
                                    <td style="padding: 8px; border: 1px solid #ddd; text-align: right; font-weight: bold; color: #28a745;">$${parseFloat(tx.amount).toFixed(2)}</td>
                                    <td style="padding: 8px; border: 1px solid #ddd;">${scheduledDate.toLocaleString()}</td>
                                    <td style="padding: 8px; border: 1px solid #ddd;">${tx.description || 'N/A'}</td>
                                </tr>`;
                        });
                        
                        tableHtml += `
                                    </tbody>
                                </table>
                            </div>`;
                        
                        // Insert the table into the results area
                        const resultArea = document.getElementById('resultArea');
                        if (resultArea) {
                            // Create a new div for the table and append it after the result area
                            const tableContainer = document.createElement('div');
                            tableContainer.innerHTML = tableHtml;
                            resultArea.parentNode.insertBefore(tableContainer, resultArea.nextSibling);
                        }
                        
                        // Also show summary
                        const totalAmount = transactions.reduce((sum, tx) => sum + parseFloat(tx.amount), 0);
                        displayResult(`💰 Total scheduled amount: $${totalAmount.toFixed(2)}`);
                        
                        const overdueCount = transactions.filter(tx => new Date(tx.scheduledDate) < new Date()).length;
                        if (overdueCount > 0) {
                            displayResult(`⚠️ ${overdueCount} transaction(s) are overdue and ready for processing`);
                        }
                    } else {
                        displayResult(`ℹ️ No scheduled transactions found. Create one using the "Schedule Transaction" feature!`);
                    }
                } else {
                    displayResult(`❌ Failed to retrieve scheduled transactions`, true);
                }
            } catch (error) {
                displayResult(`🚨 Error getting scheduled transactions: ${error.message}`, true);
            } finally {
                hideLoading();
            }
        }
        
        async function getPendingTransactions() {
            showLoading();
            clearExistingTables(); // Clear previous tables
            try {
                const response = await fetch(`${API_BASE}/transactions/pending`);
                if (response.ok) {
                    const transactions = await response.json();
                    displayResult(`⏳ Found ${transactions.length} pending transactions`);
                    
                    if (transactions.length > 0) {
                        // Display transactions in a structured table format
                        let tableHtml = `
                            <div data-transaction-table style="margin: 10px 0; padding: 15px; background: #fff3cd; border-radius: 8px; border-left: 4px solid #ffc107;">
                                <h4 style="margin: 0 0 15px 0; color: #856404;">⏳ Pending Transactions</h4>
                                <table style="width: 100%; border-collapse: collapse; font-family: monospace;">
                                    <thead>
                                        <tr style="background: #ffeaa7;">
                                            <th style="padding: 8px; border: 1px solid #ddd; text-align: left;">Transaction ID</th>
                                            <th style="padding: 8px; border: 1px solid #ddd; text-align: left;">Type</th>
                                            <th style="padding: 8px; border: 1px solid #ddd; text-align: right;">Amount</th>
                                            <th style="padding: 8px; border: 1px solid #ddd; text-align: left;">Date Created</th>
                                            <th style="padding: 8px; border: 1px solid #ddd; text-align: left;">Status</th>
                                            <th style="padding: 8px; border: 1px solid #ddd; text-align: left;">Description</th>
                                        </tr>
                                    </thead>
                                    <tbody>`;
                        
                        transactions.forEach(tx => {
                            const createdDate = new Date(tx.transactionDate);
                            
                            tableHtml += `
                                <tr style="background: #fff8e1;">
                                    <td style="padding: 8px; border: 1px solid #ddd; font-weight: bold;">🔄 ${tx.transactionId}</td>
                                    <td style="padding: 8px; border: 1px solid #ddd;">${tx.transactionType}</td>
                                    <td style="padding: 8px; border: 1px solid #ddd; text-align: right; font-weight: bold; color: #f57c00;">$${parseFloat(tx.amount).toFixed(2)}</td>
                                    <td style="padding: 8px; border: 1px solid #ddd;">${createdDate.toLocaleString()}</td>
                                    <td style="padding: 8px; border: 1px solid #ddd;"><span style="background: #ffc107; color: #212529; padding: 2px 6px; border-radius: 4px; font-size: 12px;">${tx.status}</span></td>
                                    <td style="padding: 8px; border: 1px solid #ddd;">${tx.description || 'N/A'}</td>
                                </tr>`;
                        });
                        
                        tableHtml += `
                                    </tbody>
                                </table>
                            </div>`;
                        
                        // Insert the table into the results area
                        const resultArea = document.getElementById('resultArea');
                        if (resultArea) {
                            // Create a new div for the table and append it after the result area
                            const tableContainer = document.createElement('div');
                            tableContainer.innerHTML = tableHtml;
                            resultArea.parentNode.insertBefore(tableContainer, resultArea.nextSibling);
                        }
                        
                        // Also show summary
                        const totalAmount = transactions.reduce((sum, tx) => sum + parseFloat(tx.amount), 0);
                        displayResult(`💰 Total pending amount: $${totalAmount.toFixed(2)}`);
                        displayResult(`⚡ These transactions are waiting to be processed`);
                    } else {
                        displayResult(`ℹ️ No pending transactions found. All transactions are either completed or scheduled.`);
                    }
                } else {
                    displayResult(`❌ Failed to retrieve pending transactions`, true);
                }
            } catch (error) {
                displayResult(`🚨 Error getting pending transactions: ${error.message}`, true);
            } finally {
                hideLoading();
            }
        }
        
        async function emergencyTimerStop() {
            if (!confirm('⚠️ Are you sure you want to trigger an emergency timer stop? This will suspend automated operations.')) {
                return;
            }
            
            showLoading();
            try {
                const response = await fetch(`${API_BASE}/timer/emergency-stop`, {
                    method: 'POST'
                });
                
                if (response.ok) {
                    displayResult(`🚨 Emergency timer stop triggered successfully!`);
                    displayResult(`⏹️ All automated timer operations have been suspended`);
                } else {
                    displayResult(`❌ Failed to trigger emergency stop`, true);
                }
            } catch (error) {
                displayResult(`🚨 Error triggering emergency stop: ${error.message}`, true);
            } finally {
                hideLoading();
            }
        }
        
        // Reports Functions
        async function generateWeeklyReport() {
            showLoading();
            try {
                displayResult(`📊 Generating weekly banking report...`);
                // Simulate report generation
                setTimeout(() => {
                    displayResult(`📈 Weekly Banking Report Generated Successfully!`);
                    displayResult(`📋 Account Summary: 15 active accounts, $127,450.83 total deposits`);
                    displayResult(`💳 Transaction Volume: 847 transactions, $89,234.57 total volume`);
                    displayResult(`💰 Interest Payments: $1,247.83 paid to 12 eligible accounts`);
    
                    hideLoading();
                }, 2000);
            } catch (error) {
                displayResult(`🚨 Error generating weekly report: ${error.message}`, true);
                hideLoading();
            }
        }
        
        async function generateMonthlyReport() {
            showLoading();
            try {
                displayResult(`📄 Generating monthly financial statements...`);
                // Simulate report generation
                setTimeout(() => {
                    displayResult(`📊 Monthly Financial Statements Generated Successfully!`);
                    displayResult(`🏦 Total Accounts: 15 statements generated`);
                    displayResult(`💵 Monthly Transaction Volume: $347,892.45`);
                    displayResult(`📈 Net Account Growth: +$23,456.78`);
                    displayResult(`💰 Total Interest Paid: $4,892.34`);
                    hideLoading();
                }, 3000);
            } catch (error) {
                displayResult(`🚨 Error generating monthly report: ${error.message}`, true);
                hideLoading();
            }
        }
        
        async function getTransactionHistory() {
            showLoading();
            clearExistingTables(); // Clear previous displays
            try {
                const response = await fetch(`${API_BASE}/transactions/history`);
                if (response.ok) {
                    const transactions = await response.json();
                    displayResult(`📊 Retrieved ${transactions.length} recent transactions`);
                    
                    if (transactions.length > 0) {
                        // Create beautiful transaction history table
                        let tableHtml = `
                            <div data-transaction-table style="margin: 10px 0; padding: 20px; background: #f8f9fa; border-radius: 8px; border-left: 4px solid #6c757d;">
                                <h4 style="margin: 0 0 20px 0; color: #495057;">📊 Transaction History</h4>
                                
                                <div style="margin-bottom: 15px;">
                                    <span style="background: #17a2b8; color: white; padding: 5px 10px; border-radius: 15px; margin-right: 10px; font-size: 12px;">
                                        📈 Total: ${transactions.length} transactions
                                    </span>
                                    <span style="background: #28a745; color: white; padding: 5px 10px; border-radius: 15px; margin-right: 10px; font-size: 12px;">
                                        💰 Total Value: $${transactions.reduce((sum, tx) => sum + parseFloat(tx.amount), 0).toFixed(2)}
                                    </span>
                                </div>
                                
                                <table style="width: 100%; border-collapse: collapse; font-family: monospace;">
                                    <thead>
                                        <tr style="background: #e9ecef;">
                                            <th style="padding: 10px; border: 1px solid #ddd; text-align: left;">Date</th>
                                            <th style="padding: 10px; border: 1px solid #ddd; text-align: left;">Transaction ID</th>
                                            <th style="padding: 10px; border: 1px solid #ddd; text-align: left;">Type</th>
                                            <th style="padding: 10px; border: 1px solid #ddd; text-align: right;">Amount</th>
                                            <th style="padding: 10px; border: 1px solid #ddd; text-align: left;">Status</th>
                                            <th style="padding: 10px; border: 1px solid #ddd; text-align: left;">Description</th>
                                        </tr>
                                    </thead>
                                    <tbody>`;
                        
                        transactions.slice(0, 20).forEach(tx => {
                            const txDate = new Date(tx.transactionDate);
                            const typeColor = getTransactionTypeColor(tx.transactionType);
                            const statusColor = getTransactionStatusColor(tx.status);
                            
                            tableHtml += `
                                <tr style="background: white; border-bottom: 1px solid #eee;">
                                    <td style="padding: 8px; border: 1px solid #ddd; font-size: 12px;">${txDate.toLocaleDateString()} ${txDate.toLocaleTimeString()}</td>
                                    <td style="padding: 8px; border: 1px solid #ddd; font-weight: bold; font-size: 11px;">${tx.transactionId}</td>
                                    <td style="padding: 8px; border: 1px solid #ddd;"><span style="background: ${typeColor}; color: white; padding: 2px 6px; border-radius: 4px; font-size: 11px;">${tx.transactionType}</span></td>
                                    <td style="padding: 8px; border: 1px solid #ddd; text-align: right; font-weight: bold; color: #28a745;">$${parseFloat(tx.amount).toFixed(2)}</td>
                                    <td style="padding: 8px; border: 1px solid #ddd;"><span style="background: ${statusColor}; color: white; padding: 2px 6px; border-radius: 4px; font-size: 11px;">${tx.status}</span></td>
                                    <td style="padding: 8px; border: 1px solid #ddd; font-size: 12px; max-width: 200px; overflow: hidden; text-overflow: ellipsis;">${tx.description || 'N/A'}</td>
                                </tr>`;
                        });
                        
                        tableHtml += `
                                    </tbody>
                                </table>
                                
                                ${transactions.length > 20 ? `<p style="margin-top: 15px; text-align: center; color: #6c757d;"><em>Showing first 20 of ${transactions.length} transactions</em></p>` : ''}
                            </div>`;
                        
                        // Insert the table
                        const resultArea = document.getElementById('resultArea');
                        if (resultArea) {
                            const tableContainer = document.createElement('div');
                            tableContainer.innerHTML = tableHtml;
                            resultArea.parentNode.insertBefore(tableContainer, resultArea.nextSibling);
                        }
                        
                        // Show transaction type breakdown
                        const breakdown = getTransactionBreakdown(transactions);
                        displayResult(`📈 Breakdown: ${breakdown.deposits} deposits, ${breakdown.withdrawals} withdrawals, ${breakdown.transfers} transfers`);
                        
                    } else {
                        displayResult(`ℹ️ No transaction history found. Start by making some transactions!`);
                    }
                } else {
                    displayResult(`❌ Failed to retrieve transaction history`, true);
                }
            } catch (error) {
                displayResult(`🚨 Error getting transaction history: ${error.message}`, true);
            } finally {
                hideLoading();
            }
        }
        
        function getTransactionTypeColor(type) {
            switch(type) {
                case 'DEPOSIT': return '#28a745';
                case 'WITHDRAWAL': return '#dc3545';
                case 'TRANSFER': return '#007bff';
                default: return '#6c757d';
            }
        }
        
        function getTransactionStatusColor(status) {
            switch(status) {
                case 'COMPLETED': return '#28a745';
                case 'PENDING': return '#ffc107';
                case 'SCHEDULED': return '#17a2b8';
                case 'FAILED': return '#dc3545';
                default: return '#6c757d';
            }
        }
        
        function getTransactionBreakdown(transactions) {
            return {
                deposits: transactions.filter(tx => tx.transactionType === 'DEPOSIT').length,
                withdrawals: transactions.filter(tx => tx.transactionType === 'WITHDRAWAL').length,
                transfers: transactions.filter(tx => tx.transactionType === 'TRANSFER').length
            };
        }
        
        async function getWeeklyReport() {
            showLoading();
            clearExistingTables(); // Clear previous displays
            try {
                const response = await fetch(`${API_BASE}/transactions/reports/weekly`);
                if (response.ok) {
                    const report = await response.json();
                    displayResult(`📊 Weekly Report Generated Successfully!`);
                    
                    // Create beautiful weekly report display
                    let reportHtml = `
                        <div data-transaction-table style="margin: 10px 0; padding: 20px; background: #e3f2fd; border-radius: 8px; border-left: 4px solid #2196f3;">
                            <h4 style="margin: 0 0 20px 0; color: #1976d2;">📊 Weekly Transaction Report</h4>
                            <p style="margin: 0 0 20px 0; color: #424242;"><strong>Period:</strong> ${report.startDate} to ${report.endDate}</p>
                            
                            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 15px; margin-bottom: 20px;">
                                <div style="background: white; padding: 15px; border-radius: 8px; text-align: center; border: 1px solid #bbdefb;">
                                    <h3 style="margin: 0; color: #1976d2; font-size: 2em;">${report.totalTransactions}</h3>
                                    <p style="margin: 5px 0 0 0; color: #666;">Total Transactions</p>
                                </div>
                                <div style="background: white; padding: 15px; border-radius: 8px; text-align: center; border: 1px solid #bbdefb;">
                                    <h3 style="margin: 0; color: #388e3c; font-size: 1.5em;">$${parseFloat(report.totalAmount).toFixed(2)}</h3>
                                    <p style="margin: 5px 0 0 0; color: #666;">Total Volume</p>
                                </div>
                            </div>
                            
                            <div style="background: white; padding: 15px; border-radius: 8px; margin-bottom: 15px;">
                                <h5 style="margin: 0 0 15px 0; color: #1976d2;">Transaction Breakdown</h5>
                                <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 15px;">
                                    <div style="text-align: center; padding: 10px; background: #e8f5e8; border-radius: 6px;">
                                        <div style="font-size: 1.5em; font-weight: bold; color: #28a745;">${report.depositCount}</div>
                                        <div style="color: #666; font-size: 0.9em;">Deposits</div>
                                        <div style="color: #28a745; font-weight: bold;">$${parseFloat(report.depositAmount).toFixed(2)}</div>
                                    </div>
                                    <div style="text-align: center; padding: 10px; background: #fff3cd; border-radius: 6px;">
                                        <div style="font-size: 1.5em; font-weight: bold; color: #dc3545;">${report.withdrawalCount}</div>
                                        <div style="color: #666; font-size: 0.9em;">Withdrawals</div>
                                        <div style="color: #dc3545; font-weight: bold;">$${parseFloat(report.withdrawalAmount).toFixed(2)}</div>
                                    </div>
                                    <div style="text-align: center; padding: 10px; background: #e1f5fe; border-radius: 6px;">
                                        <div style="font-size: 1.5em; font-weight: bold; color: #007bff;">${report.transferCount}</div>
                                        <div style="color: #666; font-size: 0.9em;">Transfers</div>
                                        <div style="color: #007bff; font-weight: bold;">$${parseFloat(report.transferAmount).toFixed(2)}</div>
                                    </div>
                                </div>
                            </div>
                            
                            <div style="text-align: center; margin-top: 15px;">
                                <span style="background: #2196f3; color: white; padding: 8px 16px; border-radius: 20px; font-weight: bold;">
                                    📈 Weekly Performance Summary
                                </span>
                            </div>
                        </div>`;
                    
                    // Insert the report
                    const resultArea = document.getElementById('resultArea');
                    if (resultArea) {
                        const reportContainer = document.createElement('div');
                        reportContainer.innerHTML = reportHtml;
                        resultArea.parentNode.insertBefore(reportContainer, resultArea.nextSibling);
                    }
                    
                    displayResult(`💰 Total weekly volume: $${parseFloat(report.totalAmount).toFixed(2)}`);
                    displayResult(`📈 Most active: ${getMostActiveTransactionType(report)} transactions`);
                    
                } else {
                    displayResult(`❌ Failed to generate weekly report`, true);
                }
            } catch (error) {
                displayResult(`🚨 Error generating weekly report: ${error.message}`, true);
            } finally {
                hideLoading();
            }
        }
        
        async function getMonthlyReport() {
            showLoading();
            clearExistingTables(); // Clear previous displays
            try {
                const response = await fetch(`${API_BASE}/transactions/reports/monthly`);
                if (response.ok) {
                    const report = await response.json();
                    displayResult(`📊 Monthly Report Generated Successfully!`);
                    
                    // Create beautiful monthly report display
                    let reportHtml = `
                        <div data-transaction-table style="margin: 10px 0; padding: 20px; background: #f3e5f5; border-radius: 8px; border-left: 4px solid #9c27b0;">
                            <h4 style="margin: 0 0 20px 0; color: #7b1fa2;">📊 Monthly Transaction Report</h4>
                            <p style="margin: 0 0 20px 0; color: #424242;"><strong>Period:</strong> ${report.startDate} to ${report.endDate}</p>
                            
                            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px; margin-bottom: 20px;">
                                <div style="background: white; padding: 15px; border-radius: 8px; text-align: center; border: 1px solid #ce93d8;">
                                    <h3 style="margin: 0; color: #7b1fa2; font-size: 2em;">${report.totalTransactions}</h3>
                                    <p style="margin: 5px 0 0 0; color: #666;">Total Transactions</p>
                                </div>
                                <div style="background: white; padding: 15px; border-radius: 8px; text-align: center; border: 1px solid #ce93d8;">
                                    <h3 style="margin: 0; color: #388e3c; font-size: 1.5em;">$${parseFloat(report.totalAmount).toFixed(2)}</h3>
                                    <p style="margin: 5px 0 0 0; color: #666;">Total Volume</p>
                                </div>
                                <div style="background: white; padding: 15px; border-radius: 8px; text-align: center; border: 1px solid #ce93d8;">
                                    <h3 style="margin: 0; color: #ff5722; font-size: 1.2em;">${report.averageDailyTransactions.toFixed(1)}</h3>
                                    <p style="margin: 5px 0 0 0; color: #666;">Daily Avg</p>
                                </div>
                                <div style="background: white; padding: 15px; border-radius: 8px; text-align: center; border: 1px solid #ce93d8;">
                                    <h3 style="margin: 0; color: #ff9800; font-size: 1.2em;">$${parseFloat(report.averageDailyAmount).toFixed(2)}</h3>
                                    <p style="margin: 5px 0 0 0; color: #666;">Daily Volume</p>
                                </div>
                            </div>
                            
                            <div style="background: white; padding: 15px; border-radius: 8px; margin-bottom: 15px;">
                                <h5 style="margin: 0 0 15px 0; color: #7b1fa2;">Transaction Breakdown</h5>
                                <div style="display: grid; grid-template-columns: repeat(4, 1fr); gap: 15px;">
                                    <div style="text-align: center; padding: 10px; background: #e8f5e8; border-radius: 6px;">
                                        <div style="font-size: 1.5em; font-weight: bold; color: #28a745;">${report.depositCount}</div>
                                        <div style="color: #666; font-size: 0.9em;">Deposits</div>
                                        <div style="color: #28a745; font-weight: bold;">$${parseFloat(report.depositAmount).toFixed(2)}</div>
                                    </div>
                                    <div style="text-align: center; padding: 10px; background: #fff3cd; border-radius: 6px;">
                                        <div style="font-size: 1.5em; font-weight: bold; color: #dc3545;">${report.withdrawalCount}</div>
                                        <div style="color: #666; font-size: 0.9em;">Withdrawals</div>
                                        <div style="color: #dc3545; font-weight: bold;">$${parseFloat(report.withdrawalAmount).toFixed(2)}</div>
                                    </div>
                                    <div style="text-align: center; padding: 10px; background: #e1f5fe; border-radius: 6px;">
                                        <div style="font-size: 1.5em; font-weight: bold; color: #007bff;">${report.transferCount}</div>
                                        <div style="color: #666; font-size: 0.9em;">Transfers</div>
                                        <div style="color: #007bff; font-weight: bold;">$${parseFloat(report.transferAmount).toFixed(2)}</div>
                                    </div>
                                    <div style="text-align: center; padding: 10px; background: #fff8e1; border-radius: 6px;">
                                        <div style="font-size: 1.5em; font-weight: bold; color: #ff5722;">${report.interestCount}</div>
                                        <div style="color: #666; font-size: 0.9em;">Interest</div>
                                        <div style="color: #ff5722; font-weight: bold;">$${parseFloat(report.interestAmount).toFixed(2)}</div>
                                    </div>
                                </div>
                            </div>
                            
                            <div style="background: #e8eaf6; padding: 15px; border-radius: 8px;">
                                <h5 style="margin: 0 0 10px 0; color: #3f51b5;">📈 Monthly Insights</h5>
                                <ul style="margin: 0; padding-left: 20px; color: #424242;">
                                    <li>Average of <strong>${report.averageDailyTransactions.toFixed(1)} transactions</strong> per day</li>
                                    <li>Daily transaction volume averaging <strong>$${parseFloat(report.averageDailyAmount).toFixed(2)}</strong></li>
                                    <li>Interest earned: <strong>$${parseFloat(report.interestAmount).toFixed(2)}</strong> across ${report.interestCount} payments</li>
                                    <li>Net deposit activity: <strong>$${(parseFloat(report.depositAmount) - parseFloat(report.withdrawalAmount)).toFixed(2)}</strong></li>
                                </ul>
                            </div>
                            
                            <div style="text-align: center; margin-top: 15px;">
                                <span style="background: #9c27b0; color: white; padding: 8px 16px; border-radius: 20px; font-weight: bold;">
                                    📊 Comprehensive Monthly Analysis
                                </span>
                            </div>
                        </div>`;
                    
                    // Insert the report
                    const resultArea = document.getElementById('resultArea');
                    if (resultArea) {
                        const reportContainer = document.createElement('div');
                        reportContainer.innerHTML = reportHtml;
                        resultArea.parentNode.insertBefore(reportContainer, resultArea.nextSibling);
                    }
                    
                    displayResult(`💰 Total monthly volume: $${parseFloat(report.totalAmount).toFixed(2)}`);
                    displayResult(`📈 Interest earned: $${parseFloat(report.interestAmount).toFixed(2)} from automatic calculations`);
                    
                } else {
                    displayResult(`❌ Failed to generate monthly report`, true);
                }
            } catch (error) {
                displayResult(`🚨 Error generating monthly report: ${error.message}`, true);
            } finally {
                hideLoading();
            }
        }
        
        function getMostActiveTransactionType(report) {
            const types = [
                { name: 'Deposit', count: report.depositCount },
                { name: 'Withdrawal', count: report.withdrawalCount },
                { name: 'Transfer', count: report.transferCount }
            ];
            return types.reduce((prev, current) => (prev.count > current.count) ? prev : current).name;
        }


        

        
        async function getSystemInfo() {
            showLoading();
            try {
                const response = await fetch(`${API_BASE}/public/info`);
                if (response.ok) {
                    const info = await response.json();
                    clearExistingTables();
                    
                    const currentTime = new Date().toLocaleString();
                    const uptime = Math.floor(Math.random() * 720) + 60; // Random uptime in minutes
                    
                    const html = `
                        <div style="background: linear-gradient(135deg, #0f172a 0%, #1e293b 100%); padding: 30px; border-radius: 15px; color: white; margin: 20px 0; box-shadow: 0 10px 30px rgba(15, 23, 42, 0.3);">
                            <h2 style="margin: 0 0 25px 0; text-align: center; font-size: 28px;">
                                <i class="fas fa-info-circle" style="margin-right: 10px; color: #06b6d4;"></i>
                                System Information Dashboard
                            </h2>
                            
                            <!-- System Overview -->
                            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px; margin-bottom: 25px;">
                                <!-- Core System -->
                                <div style="background: rgba(6, 182, 212, 0.1); padding: 20px; border-radius: 12px; border: 1px solid rgba(6, 182, 212, 0.3);">
                                    <h3 style="color: #06b6d4; margin: 0 0 15px 0;">
                                        <i class="fas fa-server"></i> Core System
                                    </h3>
                                    <div style="space-y: 8px;">
                                        <div style="margin-bottom: 8px; display: flex; justify-content: space-between;">
                                            <span>Platform:</span>
                                            <span style="font-weight: bold; color: #38bdf8;">Enterprise EJB</span>
                                        </div>
                                        <div style="margin-bottom: 8px; display: flex; justify-content: space-between;">
                                            <span>Version:</span>
                                            <span style="font-weight: bold; color: #38bdf8;">Jakarta EE 10</span>
                                        </div>
                                        <div style="margin-bottom: 8px; display: flex; justify-content: space-between;">
                                            <span>Runtime:</span>
                                            <span style="font-weight: bold; color: #38bdf8;">Payara Server</span>
                                        </div>
                                        <div style="display: flex; justify-content: space-between;">
                                            <span>Uptime:</span>
                                            <span style="font-weight: bold; color: #22c55e;">${Math.floor(uptime/60)}h ${uptime%60}m</span>
                                        </div>
                                    </div>
                                </div>
                                
                                <!-- Database -->
                                <div style="background: rgba(34, 197, 94, 0.1); padding: 20px; border-radius: 12px; border: 1px solid rgba(34, 197, 94, 0.3);">
                                    <h3 style="color: #22c55e; margin: 0 0 15px 0;">
                                        <i class="fas fa-database"></i> Database
                                    </h3>
                                    <div style="space-y: 8px;">
                                        <div style="margin-bottom: 8px; display: flex; justify-content: space-between;">
                                            <span>Engine:</span>
                                            <span style="font-weight: bold; color: #4ade80;">H2 Database</span>
                                        </div>
                                        <div style="margin-bottom: 8px; display: flex; justify-content: space-between;">
                                            <span>Mode:</span>
                                            <span style="font-weight: bold; color: #4ade80;">Embedded</span>
                                        </div>
                                        <div style="margin-bottom: 8px; display: flex; justify-content: space-between;">
                                            <span>Status:</span>
                                            <span style="background: #22c55e; color: #000; padding: 2px 6px; border-radius: 4px; font-weight: bold; font-size: 12px;">CONNECTED</span>
                                        </div>
                                        <div style="display: flex; justify-content: space-between;">
                                            <span>Performance:</span>
                                            <span style="background: #22c55e; color: #000; padding: 2px 6px; border-radius: 4px; font-weight: bold; font-size: 12px;">OPTIMAL</span>
                                        </div>
                                    </div>
                                </div>
                                
                                <!-- Security -->
                                <div style="background: rgba(168, 85, 247, 0.1); padding: 20px; border-radius: 12px; border: 1px solid rgba(168, 85, 247, 0.3);">
                                    <h3 style="color: #a855f7; margin: 0 0 15px 0;">
                                        <i class="fas fa-shield-alt"></i> Security
                                    </h3>
                                    <div style="space-y: 8px;">
                                        <div style="margin-bottom: 8px; display: flex; justify-content: space-between;">
                                            <span>Framework:</span>
                                            <span style="font-weight: bold; color: #c084fc;">JAAS</span>
                                        </div>
                                        <div style="margin-bottom: 8px; display: flex; justify-content: space-between;">
                                            <span>Access Control:</span>
                                            <span style="background: #a855f7; color: #fff; padding: 2px 6px; border-radius: 4px; font-weight: bold; font-size: 12px;">RBAC</span>
                                        </div>
                                        <div style="margin-bottom: 8px; display: flex; justify-content: space-between;">
                                            <span>Encryption:</span>
                                            <span style="background: #22c55e; color: #000; padding: 2px 6px; border-radius: 4px; font-weight: bold; font-size: 12px;">ENABLED</span>
                                        </div>
                                        <div style="display: flex; justify-content: space-between;">
                                            <span>Audit Trail:</span>
                                            <span style="background: #22c55e; color: #000; padding: 2px 6px; border-radius: 4px; font-weight: bold; font-size: 12px;">ACTIVE</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Services Status -->
                            <div style="background: rgba(255,255,255,0.05); border-radius: 12px; overflow: hidden; margin-bottom: 20px;">
                                <h3 style="margin: 0; padding: 20px; background: rgba(6, 182, 212, 0.1); border-bottom: 1px solid rgba(255,255,255,0.1);">
                                    <i class="fas fa-cogs"></i> Services & Components
                                </h3>
                                <div style="padding: 20px;">
                                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 15px;">
                                        <div style="background: rgba(255,255,255,0.05); padding: 15px; border-radius: 8px; border-left: 4px solid #22c55e;">
                                            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 8px;">
                                                <span style="font-weight: bold;">Customer Management</span>
                                                <span style="background: #22c55e; color: #000; padding: 2px 6px; border-radius: 4px; font-size: 11px; font-weight: bold;">ACTIVE</span>
                                            </div>
                                            <div style="color: #94a3b8; font-size: 13px;">EJB Service for customer operations</div>
                                        </div>
                                        
                                        <div style="background: rgba(255,255,255,0.05); padding: 15px; border-radius: 8px; border-left: 4px solid #22c55e;">
                                            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 8px;">
                                                <span style="font-weight: bold;">Account Operations</span>
                                                <span style="background: #22c55e; color: #000; padding: 2px 6px; border-radius: 4px; font-size: 11px; font-weight: bold;">ACTIVE</span>
                                            </div>
                                            <div style="color: #94a3b8; font-size: 13px;">Account creation and management</div>
                                        </div>
                                        
                                        <div style="background: rgba(255,255,255,0.05); padding: 15px; border-radius: 8px; border-left: 4px solid #22c55e;">
                                            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 8px;">
                                                <span style="font-weight: bold;">Transaction Processing</span>
                                                <span style="background: #22c55e; color: #000; padding: 2px 6px; border-radius: 4px; font-size: 11px; font-weight: bold;">ACTIVE</span>
                                            </div>
                                            <div style="color: #94a3b8; font-size: 13px;">Real-time transaction handling</div>
                                        </div>
                                        
                                        <div style="background: rgba(255,255,255,0.05); padding: 15px; border-radius: 8px; border-left: 4px solid #8b5cf6;">
                                            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 8px;">
                                                <span style="font-weight: bold;">Timer Services</span>
                                                <span style="background: #8b5cf6; color: #fff; padding: 2px 6px; border-radius: 4px; font-size: 11px; font-weight: bold;">SCHEDULED</span>
                                            </div>
                                            <div style="color: #94a3b8; font-size: 13px;">Automated interest calculations</div>
                                        </div>
                                        
                                        <div style="background: rgba(255,255,255,0.05); padding: 15px; border-radius: 8px; border-left: 4px solid #06b6d4;">
                                            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 8px;">
                                                <span style="font-weight: bold;">REST API</span>
                                                <span style="background: #06b6d4; color: #fff; padding: 2px 6px; border-radius: 4px; font-size: 11px; font-weight: bold;">ONLINE</span>
                                            </div>
                                            <div style="color: #94a3b8; font-size: 13px;">JAX-RS web services</div>
                                        </div>
                                        
                                        <div style="background: rgba(255,255,255,0.05); padding: 15px; border-radius: 8px; border-left: 4px solid #f59e0b;">
                                            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 8px;">
                                                <span style="font-weight: bold;">Audit System</span>
                                                <span style="background: #f59e0b; color: #000; padding: 2px 6px; border-radius: 4px; font-size: 11px; font-weight: bold;">LOGGING</span>
                                            </div>
                                            <div style="color: #94a3b8; font-size: 13px;">Security and transaction audit</div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- System Stats -->
                            <div style="background: rgba(255,255,255,0.05); padding: 20px; border-radius: 12px;">
                                <h3 style="margin: 0 0 15px 0; color: #fbbf24;">
                                    <i class="fas fa-chart-bar"></i> System Statistics
                                </h3>
                                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 15px;">
                                    <div style="text-align: center; padding: 15px; background: rgba(255,255,255,0.05); border-radius: 8px;">
                                        <div style="font-size: 24px; font-weight: bold; color: #06b6d4;">99.9%</div>
                                        <div style="color: #94a3b8; font-size: 13px;">Uptime</div>
                                    </div>
                                    <div style="text-align: center; padding: 15px; background: rgba(255,255,255,0.05); border-radius: 8px;">
                                        <div style="font-size: 24px; font-weight: bold; color: #22c55e;">&lt;50ms</div>
                                        <div style="color: #94a3b8; font-size: 13px;">Response Time</div>
                                    </div>
                                    <div style="text-align: center; padding: 15px; background: rgba(255,255,255,0.05); border-radius: 8px;">
                                        <div style="font-size: 24px; font-weight: bold; color: #a855f7;">15MB</div>
                                        <div style="color: #94a3b8; font-size: 13px;">Memory Usage</div>
                                    </div>
                                    <div style="text-align: center; padding: 15px; background: rgba(255,255,255,0.05); border-radius: 8px;">
                                        <div style="font-size: 24px; font-weight: bold; color: #f59e0b;">24/7</div>
                                        <div style="color: #94a3b8; font-size: 13px;">Availability</div>
                                    </div>
                                </div>
                                
                                <div style="margin-top: 20px; text-align: center; color: #94a3b8; font-size: 14px;">
                                    Last Updated: ${currentTime} | System Health: <span style="color: #22c55e; font-weight: bold;">Excellent</span>
                                </div>
                            </div>
                        </div>
                    `;
                    
                    document.getElementById('resultArea').innerHTML = html;
                } else {
                    displayResult(`❌ Failed to retrieve system information`, true);
                }
            } catch (error) {
                displayResult(`🚨 Error getting system info: ${error.message}`, true);
            } finally {
                hideLoading();
            }
        }
        

        
        // Utility function to hide all forms
        function hideAllForms() {
            const forms = [
                'customerForm', 'createAccountForm', 'accountSearchForm',
                'transferForm', 'depositForm', 'withdrawForm', 'scheduleTransactionForm'
            ];
            forms.forEach(formId => {
                const form = document.getElementById(formId);
                if (form) form.style.display = 'none';
            });
        }
    </script>
</body>
</html> 